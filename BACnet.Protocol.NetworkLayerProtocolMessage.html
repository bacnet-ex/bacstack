<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="bacstack v0.1.0">


    <title>BACnet.Protocol.NetworkLayerProtocolMessage — bacstack v0.1.0</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-75D63F6F.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>
<!-- Markdown for details HTML tags -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>

<!-- Sortable tables -->
<style>
  table th {
    cursor: pointer;
  }

  table th[aria-sort="ascending"] span::after {
    content: "▲";
    color: currentcolor;
    font-size: 100%;
    top: 0;
    margin-left: 5px;
  }

  table th[aria-sort="descending"] span::after {
    content: "▼";
    color: currentcolor;
    font-size: 100%;
    top: 0;
    margin-left: 5px;
  }
</style>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="BACnet.html" class="sidebar-projectName" translate="no">
bacstack
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of bacstack</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">BACnet.Protocol.NetworkLayerProtocolMessage</span> 
    <small class="app-vsn" translate="no">(bacstack v0.1.0)</small>

  </h1>


    <section id="moduledoc">
<p>Network layer messages are used for prividing the basis for
router auto-configuration, router maintenance and
network layer congestion control.</p><p>The purpose of the BACnet network layer is to provide the means by which
messages can be relayed from one BACnet network to another,
regardless of the BACnet data link technology in use on that network.
Whereas the data link layer provides the capability to address messages
to a single device or broadcast them to all devices on the local network,
the network layer allows messages to be directed to a single remote device,
broadcast on a remote network, or broadcast globally to all devices on all networks.</p><p>See also ASHRAE 135 Clause 6.4.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:data/0" data-no-tooltip translate="no">data()</a>

      </div>

        <div class="summary-synopsis"><p>Represents data for known BACnet network layer message types.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:dnet/0" data-no-tooltip translate="no">dnet()</a>

      </div>

        <div class="summary-synopsis"><p>Represents a network number.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:msg_type_reserved/0" data-no-tooltip translate="no">msg_type_reserved()</a>

      </div>

        <div class="summary-synopsis"><p>The message type number range for reserved area messages.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:msg_type_vendor/0" data-no-tooltip translate="no">msg_type_vendor()</a>

      </div>

        <div class="summary-synopsis"><p>The message type number range for vendor proprietary messages.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:t/0" data-no-tooltip translate="no">t()</a>

      </div>

        <div class="summary-synopsis"><p>Represents a message layer message (Network Service Data Unit - NSDU).</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#encode/1" data-no-tooltip translate="no">encode(message)</a>

      </div>

        <div class="summary-synopsis"><p>Encode the network layer protocol message into binary data.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:data/0">

  <div class="detail-header">
    <a href="#t:data/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">data()</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L46" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> data() ::
  (who_is_router_to_network :: <a href="#t:dnet/0">dnet</a>() | nil)
  | (i_am_router_to_network :: [<a href="#t:dnet/0">dnet</a>()])
  | (i_could_be_router_to_network :: {<a href="#t:dnet/0">dnet</a>(), perf_index :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">byte</a>()})
  | (reject_message_to_network ::
       {<a href="#t:dnet/0">dnet</a>(), reason :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">byte</a>(), reason_string :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | :undefined})
  | (router_busy_to_network :: [<a href="#t:dnet/0">dnet</a>()])
  | (router_available_to_network :: [<a href="#t:dnet/0">dnet</a>()])
  | (initialize_routing_table :: [
       {<a href="#t:dnet/0">dnet</a>(), port_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">byte</a>(), port_info :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()}
     ])
  | (initialize_routing_table_ack :: [
       {<a href="#t:dnet/0">dnet</a>(), port_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">byte</a>(), port_info :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()}
     ])
  | (establish_connection_to_network ::
       {<a href="#t:dnet/0">dnet</a>(), termination_time :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()})
  | (disconnect_connection_to_network :: <a href="#t:dnet/0">dnet</a>())
  | (what_is_network_number :: nil)
  | (network_number_is :: {<a href="#t:dnet/0">dnet</a>(), :configured | :learned})</pre>

      </div>

<p>Represents data for known BACnet network layer message types.</p>
  </section>
</section>
<section class="detail" id="t:dnet/0">

  <div class="detail-header">
    <a href="#t:dnet/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">dnet()</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L41" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> dnet() :: <a href="BACnet.Protocol.ApplicationTags.html#t:unsigned16/0">BACnet.Protocol.ApplicationTags.unsigned16</a>()</pre>

      </div>

<p>Represents a network number.</p>
  </section>
</section>
<section class="detail" id="t:msg_type_reserved/0">

  <div class="detail-header">
    <a href="#t:msg_type_reserved/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">msg_type_reserved()</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L69" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> msg_type_reserved() :: 0..107</pre>

      </div>

<p>The message type number range for reserved area messages.</p>
  </section>
</section>
<section class="detail" id="t:msg_type_vendor/0">

  <div class="detail-header">
    <a href="#t:msg_type_vendor/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">msg_type_vendor()</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L64" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> msg_type_vendor() :: 0..127</pre>

      </div>

<p>The message type number range for vendor proprietary messages.</p>
  </section>
</section>
<section class="detail" id="t:t/0">

  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">t()</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L77" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> t() :: %BACnet.Protocol.NetworkLayerProtocolMessage{
  data: <a href="#t:data/0">data</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>() | {vendor_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()},
  msg_type: <a href="#t:msg_type_vendor/0">msg_type_vendor</a>() | <a href="#t:msg_type_reserved/0">msg_type_reserved</a>() | nil,
  network_message_type: <a href="BACnet.Protocol.Constants.html#t:network_layer_message_type/0">BACnet.Protocol.Constants.network_layer_message_type</a>()
}</pre>

      </div>

<p>Represents a message layer message (Network Service Data Unit - NSDU).</p><p><code class="inline">data</code> is a binary if the type is in the reserved area (<code class="inline">:reserved_area_start</code>).
<code class="inline">data</code> is a tuple for vendor proprietary messages, the actual data is a binary in the tuple.</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="encode/1">

  <div class="detail-header">
    <a href="#encode/1" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">encode(message)</h1>

      <a href="https://github.com/bacnet-ex/bacstack/blob/master/lib/bacnet/protocol/network_layer_protocol_message.ex#L95" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> encode(<a href="#t:t/0">t</a>()) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Encode the network layer protocol message into binary data.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="bacstack.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>
<!-- Markdown for details HTML tags & sortable tables -->
<script>
  class TableSortableColumns {
    constructor(tableNode) {
      this.tableNode = tableNode;
      this.columnHeaders = tableNode.querySelectorAll('thead th');
      this.sortColumns = [];

      for (var i = 0; i < this.columnHeaders.length; i++) {
        var ch = this.columnHeaders[i];

        if (ch) {
          ch.innerHTML += '<span aria-hidden="true"></span>';
          this.sortColumns.push(i);
          ch.setAttribute('data-column-index', i);
          ch.addEventListener('click', this.handleClick.bind(this));
        }
      }
    }

    setColumnHeaderSort(columnIndex) {
      if (typeof columnIndex === 'string') {
        columnIndex = parseInt(columnIndex);
      }

      for (var i = 0; i < this.columnHeaders.length; i++) {
        var ch = this.columnHeaders[i];

        if (i === columnIndex) {
          var value = ch.getAttribute('aria-sort');

          if (value === 'ascending') {
            ch.setAttribute('aria-sort', 'descending');
            this.sortColumn(
              columnIndex,
              'descending',
              ch.classList.contains('num')
            );
          } else {
            ch.setAttribute('aria-sort', 'ascending');
            this.sortColumn(
              columnIndex,
              'ascending',
              ch.classList.contains('num')
            );
          }
        } else if (ch.hasAttribute('aria-sort')) {
          ch.removeAttribute('aria-sort');
        }
      }
    }

    sortColumn(columnIndex, sortValue, isNumber) {
      function compareValues(a, b) {
        isNumber = !isNaN(parseFloat(a.value)) && !isNaN(parseFloat(b.value))

        if (sortValue === 'ascending') {
          if (a.value === b.value) {
            return 0;
          } else {
            if (isNumber) {
              return a.value - b.value;
            } else {
              return a.value < b.value ? -1 : 1;
            }
          }
        } else {
          if (a.value === b.value) {
            return 0;
          } else {
            if (isNumber) {
              return b.value - a.value;
            } else {
              return a.value > b.value ? -1 : 1;
            }
          }
        }
      }

      if (typeof isNumber !== 'boolean') {
        isNumber = false;
      }

      var tbodyNode = this.tableNode.querySelector('tbody');
      var rowNodes = [];
      var dataCells = [];

      var rowNode = tbodyNode.firstElementChild;

      var index = 0;
      while (rowNode) {
        rowNodes.push(rowNode);

        var rowCells = rowNode.querySelectorAll('th, td');
        var dataCell = rowCells[columnIndex];
        var data = {};

        data.index = index;
        data.value = dataCell.textContent.toLowerCase().trim();
        if (isNumber) {
          data.value = parseFloat(data.value);
        }

        dataCells.push(data);
        rowNode = rowNode.nextElementSibling;
        index += 1;
      }

      dataCells.sort(compareValues);

      while (tbodyNode.firstChild) {
        tbodyNode.removeChild(tbodyNode.lastChild);
      }

      for (var i = 0; i < dataCells.length; i += 1) {
        tbodyNode.appendChild(rowNodes[dataCells[i].index]);
      }
    }

    handleClick(event) {
      var target = event.currentTarget;
      this.setColumnHeaderSort(target.getAttribute('data-column-index'));
    }
  }

  document.addEventListener('DOMContentLoaded', function () {
    // This is the part where we load the <details> contents,
    // parse it using markdown and push the HTML back
    var converter = new showdown.Converter({});
    converter.setFlavor('github');

    var details = document.querySelectorAll('details');
    for (var i = 0; i < details.length; i++) {
      details[i].innerHTML = converter.makeHtml(details[i].innerHTML);
    }

    // Now apply sortable tables, because <details> could contain tables
    var tables = document.querySelectorAll('table');
    for (var i = 0; i < tables.length; i++) {
      new TableSortableColumns(tables[i]);
    }
  });
</script>

  </body>
</html>
